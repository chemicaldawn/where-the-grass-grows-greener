var style = require("users/dawnschumacher/nasa-eej:ui/navbar-style");

var sections = ["About", "Univariate Data", "Bivariate Data"]

// Create the base navbar panel.
var navbar = ui.Panel({
  layout: ui.Panel.Layout.flow('vertical'),
  style: style.navbar
});
  
  // Create the containing panel for the row of buttons at the top, ensuring they are
  // displayed in a horizontal row.
var button_row = ui.Panel({
  layout: ui.Panel.Layout.flow('horizontal'),
})
  
// Create the blue highlight bar that changes position.
var nav_highlight = ui.Panel({
  style: {
    backgroundColor: 'blue',
    height: '3px',
    width: '33.3%'
  }
})
  
// Add the navbar buttons to the navigation panel.
for (var section in sections) {
  button_row.add(
    ui.Button({
      label: section,
      style: style.navbar_button
    })
  );
}

navbar.add(button_row);
navbar.add(nav_highlight);

// Changes the visible section by stretching or shrinking the margin of the blue highlight
// UI panel.
function change_section(section) {
  var multiplier = sections.indexOf(section);
  nav_highlight.style().margin = "0px 0px " + (33.3 * multipiler) + "px 0px";
}
  
exports.object = navbar