var legend = require("users/dawnschumacher/nasa-eej:ui/legend/legend");

var map = ui.Map();
var map_style = require("users/dawnschumacher/nasa-eej:style/map-style").style;

var legend = ui.Panel();
var legend_style = require("users/dawnschumacher/nasa-eej:style/legend-style").style;

// init function, run on first load.
function init() {
  
  // Sets the map's visual style, creating a grayscale map.
  map.setOptions('Map', {
    Map: map_style
  },
  ["Map","SATELLITE"]);
  
  // Modifies the map controls, disabling unnessecary ones to improve readability.
  map.setControlVisibility({
      all: false,
      layerList: true,
      zoomControl: true,
      scaleControl: true,
      mapTypeControl: true,
      fullscreenControl: false
  });
  
  // Sets the cursor style to a crosshair.
  map.style().set('cursor', 'crosshair');
  
  // Centers the map on the San Francisco bay.
  map.setCenter(-122.355537, 37.828, 9);
  
  // Replaces the base map with a cleaner, custom map.
  ui.root.clear();
  
  var spacer = ui.SplitPanel(
    map, legend.object
  ) 
  
  ui.root.add(spacer);
}

init();
legend.update();